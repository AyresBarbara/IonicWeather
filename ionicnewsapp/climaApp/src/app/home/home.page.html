<ion-header>
  <ion-toolbar>
    <ion-title>Clima Atual</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-item>
    <ion-input [(ngModel)]="city" placeholder="Digite a cidade"></ion-input>
    <ion-button (click)="getWeather()">Buscar</ion-button>
  </ion-item>

  <ion-card *ngIf="weatherData">
    <ion-card-header>
      <ion-card-title>{{ weatherData.name }}</ion-card-title>
    </ion-card-header>

    <ion-card-content>
    <p>{{ weatherData.weather[0].description }}</p>
    <p>🌡️ Temperatura: {{ weatherData.main.temp }} °C</p>
    <p>💧 Umidade: {{ weatherData.main.humidity }}%</p>
    <p>🌬️ Vento: {{ weatherData.wind.speed }} m/s</p>
    <ion-button (click)="adicionarFavorito()">💛 Favoritar</ion-button>
    </ion-card-content>
  </ion-card>

  <div *ngIf="forecastData">
    <h3>Previsão</h3>
    <ion-list>
      <ion-item *ngFor="let item of forecastData.list.slice(0, 5)">
        <ion-label>
          {{ item.main.temp }}°C - {{ item.weather[0].description }} - {{ item.dt_txt }}
        </ion-label>
      </ion-item>
    </ion-list>
  </div>

  <div>
  <ion-card *ngFor="let item of favoritosClima">
    <ion-card-header>
      <ion-card-title>{{ item.cidade }}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>Temperatura: {{ item.clima.main.temp }}°C</p>
      <p>Clima: {{ item.clima.weather[0].description }}</p>
      <ion-button color="danger" size="small" (click)="removerFavorito(item.cidade)">
        Remover
      </ion-button>
    </ion-card-content>
  </ion-card>
</div>
  
</ion-content>
